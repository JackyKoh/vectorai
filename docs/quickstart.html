

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>QuickStart &mdash; vectorai 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Vector Search / Nearest Neighbors" href="industry_ecommerce.html" />
    <link rel="prev" title="Vector AI - Essentials" href="intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> vectorai
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Vector AI - Essentials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">QuickStart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Build-NLP-Search-in-5-Minutes">Build NLP Search in 5 Minutes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Build-Image-Search-In-5-Minutes">Build Image Search In 5 Minutes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Build-Audio-Search-in-5-Minutes">Build Audio Search in 5 Minutes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Build-Text-QA-Search-in-5-minutes">Build Text QA Search in 5 minutes</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html">Vector Search / Nearest Neighbors</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Search">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Collection-Metadata">Collection Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Advanced-Search">Advanced Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Advanced-Vector-Search">Advanced Vector Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Vector-based-Recommendations-(Search-by-Id)">Vector based Recommendations (Search by Id)</a></li>
<li class="toctree-l1"><a class="reference internal" href="industry_ecommerce.html#Vector-Analytics/Aggregation">Vector Analytics/Aggregation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_analytics_example.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_analytics_example.html#Dimensionality-Reduction">Dimensionality Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_analytics_example.html#Visualisations-(Advanced)">Visualisations (Advanced)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_encodings_example.html">Custom Encodings</a></li>
</ul>
<p class="caption"><span class="caption-text">Case Studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="industry_nba_players.html">Example - Vector Recommendations With NBA Players</a></li>
</ul>
<p class="caption"><span class="caption-text">Frequently Asked Questions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="read.html">Read</a></li>
<li class="toctree-l1"><a class="reference internal" href="write.html">Write</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster.html">Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="array_dict_vectorizer.html">Array &amp; Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimensionality_reduction.html">Dimensionality Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="text.html">Texts</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audios</a></li>
<li class="toctree-l1"><a class="reference internal" href="analytics.html">Visualisations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">vectorai</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>QuickStart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/quickstart.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="QuickStart">
<h1>QuickStart<a class="headerlink" href="#QuickStart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Build-NLP-Search-in-5-Minutes">
<h2>Build NLP Search in 5 Minutes<a class="headerlink" href="#Build-NLP-Search-in-5-Minutes" title="Permalink to this headline">¶</a></h2>
<p>Log into the client as belows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">vectorai.client</span> <span class="kn">import</span> <span class="n">ViClient</span>
<span class="n">vi_client</span> <span class="o">=</span> <span class="n">ViClient</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="n">collection_name</span> <span class="o">=</span> <span class="s1">&#39;nlp_quickstart&#39;</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">delete_collection</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logged in. Welcome public-demo. To view list of available collections, call list_collections() method.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;complete&#39;, &#39;message&#39;: &#39;nlp_quickstart deleted&#39;}
</pre></div></div>
</div>
<p>Then use our Text2Vec model to convert the text to vectors!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">vectorai.models.deployed</span> <span class="kn">import</span> <span class="n">ViText2Vec</span>
<span class="n">text_encoder</span> <span class="o">=</span> <span class="n">ViText2Vec</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Then insert the data as shown below!</p>
<p>For the example below, we got the data from: <a class="reference external" href="https://www.kaggle.com/datatattle/covid-19-nlp-text-classification">https://www.kaggle.com/datatattle/covid-19-nlp-text-classification</a></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Corona_NLP_train.csv&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>UserName</th>
      <th>ScreenName</th>
      <th>Location</th>
      <th>TweetAt</th>
      <th>OriginalTweet</th>
      <th>Sentiment</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>22789</th>
      <td>26588</td>
      <td>71540</td>
      <td>Instagram @secupp</td>
      <td>25-03-2020</td>
      <td>Do not do this.\r\r\n\r\r\nNJ Man Charged for Coughing on Grocery Store Employee and Saying He Had Coronavirus: AG https://t.co/XGAhnn1BjP via @lawcrimenews</td>
      <td>Negative</td>
    </tr>
    <tr>
      <th>23097</th>
      <td>26896</td>
      <td>71848</td>
      <td>Salt Lake City, UT</td>
      <td>25-03-2020</td>
      <td>https://t.co/MpRWsgiJ17 ÂThereÂs a lot more at stake for transplant patients. What gives them the sniffles could potentially kill me.Â For many in the transplant community who are immunosuppressed, the recommended daily precautions against #coronavirus are already second nature.</td>
      <td>Negative</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vi_client</span><span class="o">.</span><span class="n">insert_df</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;OriginalTweet&#39;</span><span class="p">:</span><span class="n">text_encoder</span><span class="p">},</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">use_bulk_encode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "266479118baa44858314b85063354df5", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;inserted_successfully&#39;: 41157, &#39;failed&#39;: 0, &#39;failed_document_ids&#39;: []}
</pre></div></div>
</div>
<p>As we are inserting the data, note that the vector field names automatically adapt to our schema. In other words, the field <strong>“OriginalTweet”</strong> ends up becoming <strong>“OriginalTweet_vector_”</strong>.</p>
<p>Before we search, let us take a quick look at all our data to make sure it’s been properly inserted. And now, our data is ready to search!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">vi_client</span><span class="o">.</span><span class="n">collection_stats</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;size_mb&#39;: 216.298816,
 &#39;number_of_documents&#39;: 450,
 &#39;number_of_searches&#39;: 0,
 &#39;number_of_id_lookups&#39;: 0}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">text_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;helping older people&#39;</span><span class="p">),</span>
    <span class="n">field</span><span class="o">=</span><span class="s1">&#39;OriginalTweet_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">results_pretty</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="s1">&#39;OriginalTweet&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>OriginalTweet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Important information about supermarket opening times to help elderly and vulnerable customers</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PLEASE PLEASE Dont hoard things that elderly people need if you see them in a grocery store please help them They are our national treasure and we need to protect them</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Be sure to look after the elders in your community they are the ones that need your help the most from the team</td>
    </tr>
    <tr>
      <th>3</th>
      <td>We've got some resources on those topics -- Here's how volunteers are helping seniors: https://t.co/zZCzwfp7Ih \r\r\n\r\r\nAnd a little more info on how localities are trying to protect them: https://t.co/93WVMi0Qg1 \r\r\n\r\r\nAnd some stores with senior-only shopping times https://t.co/AE7m8xUXx7 https://t.co/MChaqLKdc8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Coping with coronavirus practical guidance for older people</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Build-Image-Search-In-5-Minutes">
<h2>Build Image Search In 5 Minutes<a class="headerlink" href="#Build-Image-Search-In-5-Minutes" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">collection_name</span> <span class="o">=</span> <span class="s1">&#39;pokemon_images&#39;</span>

<span class="n">documents</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
    <span class="n">documents</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="s1">&#39;https://assets.pokemon.com/assets/cms2/img/pokedex/full/</span><span class="si">{}</span><span class="s1">.png&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s1">03</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
        <span class="s1">&#39;pokemon_id&#39;</span> <span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
        <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="n">i</span>
    <span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#1. specify the vdb client</span>
<span class="kn">from</span> <span class="nn">vectorai.client</span> <span class="kn">import</span> <span class="n">ViClient</span>
<span class="n">vi_client</span> <span class="o">=</span> <span class="n">ViClient</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">delete_collection</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>

<span class="c1">#2. specify an image encoder</span>
<span class="kn">from</span> <span class="nn">vectorai.models.deployed</span> <span class="kn">import</span> <span class="n">ViImage2Vec</span>
<span class="n">image_encoder</span> <span class="o">=</span> <span class="n">ViImage2Vec</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logged in. Welcome public-demo. To view list of available collections, call list_collections() method.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;complete&#39;, &#39;message&#39;: &#39;pokemon_images deleted&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#3. insert the documents and encode images simultaneously</span>
<span class="c1"># using jobs means that the encoding process takes place on our servers as opposed to your computer</span>
<span class="n">use_jobs</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">if</span> <span class="n">use_jobs</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">)</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">encode_image_job</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">)</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">wait_till_jobs_complete</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_id&#39;</span><span class="p">],</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_name&#39;</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span><span class="n">image_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "82cb6f5ed0d5415eac27727b6ee1bba8", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;inserted_successfully&#39;: 19, &#39;failed&#39;: 0, &#39;failed_document_ids&#39;: []}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#4. search</span>
<span class="n">search_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span>
    <span class="n">image_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;https://assets.pokemon.com/assets/cms2/img/pokedex/full/003.png&#39;</span><span class="p">),</span>
    <span class="s1">&#39;image_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">#4.2 first result is the query audio itself</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">show_json</span><span class="p">(</span><span class="n">search_results</span><span class="p">,</span> <span class="n">image_fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">],</span> <span class="n">image_width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>image</th>
      <th>pokemon_id</th>
      <th>insert_date_</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/003.png" width="150" ></td>
      <td>3</td>
      <td>2020-10-02T07:07:18.799559</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/002.png" width="150" ></td>
      <td>2</td>
      <td>2020-10-02T07:07:18.797693</td>
      <td>0.920337</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png" width="150" ></td>
      <td>1</td>
      <td>2020-10-02T07:07:18.795655</td>
      <td>0.838996</td>
    </tr>
    <tr>
      <th>3</th>
      <td>17</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/017.png" width="150" ></td>
      <td>17</td>
      <td>2020-10-02T07:07:30.587841</td>
      <td>0.835111</td>
    </tr>
    <tr>
      <th>4</th>
      <td>16</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/016.png" width="150" ></td>
      <td>16</td>
      <td>2020-10-02T07:07:30.585399</td>
      <td>0.813012</td>
    </tr>
  </tbody>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#5 recommendation by id</span>
<span class="n">search_by_id_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search_by_id</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;image_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">#5.2 first result is the id&#39;s audio itself</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">show_json</span><span class="p">(</span><span class="n">search_by_id_results</span><span class="p">,</span> <span class="n">image_fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">],</span> <span class="n">image_width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>image</th>
      <th>pokemon_id</th>
      <th>insert_date_</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/002.png" width="150" ></td>
      <td>2</td>
      <td>2020-10-02T07:07:18.797693</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/003.png" width="150" ></td>
      <td>3</td>
      <td>2020-10-02T07:07:18.799559</td>
      <td>0.920337</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png" width="150" ></td>
      <td>1</td>
      <td>2020-10-02T07:07:18.795655</td>
      <td>0.895991</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/007.png" width="150" ></td>
      <td>7</td>
      <td>2020-10-02T07:07:18.807199</td>
      <td>0.839945</td>
    </tr>
    <tr>
      <th>4</th>
      <td>17</td>
      <td><img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/017.png" width="150" ></td>
      <td>17</td>
      <td>2020-10-02T07:07:30.587841</td>
      <td>0.833277</td>
    </tr>
  </tbody>
</table></div>
</div>
</div>
<div class="section" id="Build-Audio-Search-in-5-Minutes">
<h2>Build Audio Search in 5 Minutes<a class="headerlink" href="#Build-Audio-Search-in-5-Minutes" title="Permalink to this headline">¶</a></h2>
<p>Building Audio search is easy with Vi!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">collection_name</span> <span class="o">=</span> <span class="s1">&#39;audio_quickstart&#39;</span>

<span class="c1">#create the documents</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1001</span><span class="p">):</span>
    <span class="n">documents</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
        <span class="s1">&#39;audio&#39;</span><span class="p">:</span> <span class="s1">&#39;https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_</span><span class="si">{}</span><span class="s1">.wav&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
        <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;common_voice_en_</span><span class="si">{}</span><span class="s1">.wav&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
        <span class="s1">&#39;_id&#39;</span><span class="p">:</span> <span class="n">i</span>
    <span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#1. specify the vdb client</span>
<span class="kn">from</span> <span class="nn">vectorai.client</span> <span class="kn">import</span> <span class="n">ViClient</span>
<span class="n">vi_client</span> <span class="o">=</span> <span class="n">ViClient</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">delete_collection</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>

<span class="c1">#2. specify an audio encoder</span>
<span class="kn">from</span> <span class="nn">vectorai.models.deployed</span> <span class="kn">import</span> <span class="n">ViAudio2Vec</span>
<span class="n">audio_encoder</span> <span class="o">=</span> <span class="n">ViAudio2Vec</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logged in. Welcome public-demo. To view list of available collections, call list_collections() method.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;complete&#39;, &#39;message&#39;: &#39;audio_quickstart deleted&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#3. insert the documents and encode audio simultaneously</span>
<span class="n">use_jobs</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">if</span> <span class="n">use_jobs</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">)</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">encode_audio_job</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;audio&#39;</span><span class="p">)</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">wait_till_jobs_complete</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_id&#39;</span><span class="p">],</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_name&#39;</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;audio&#39;</span><span class="p">:</span><span class="n">audio_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\kda\vectorai\vectorai\read.py:351: UserWarning: Potential issue. Cannot find a vector field. Check that the vector field is _vector_.
  &#34;Potential issue. Cannot find a vector field. Check that the vector field is _vector_.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "f1b5d6b126b4459facb92dadabb1764f", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;inserted_successfully&#39;: 1000, &#39;failed&#39;: 0, &#39;failed_document_ids&#39;: []}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;Finished&#39;}
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Done&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">IPython.display</span> <span class="k">as</span> <span class="nn">ipd</span>
<span class="c1">#4. search</span>
<span class="n">search_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">audio_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;audio&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;audio_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">vi_client</span><span class="o">.</span><span class="n">show_json</span><span class="p">(</span><span class="n">search_results</span><span class="p">,</span> <span class="n">audio_fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>name</th>
      <th>insert_date_</th>
      <th>audio</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>common_voice_en_1.wav</td>
      <td>2020-10-02T07:07:34.725378</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_1.wav' type='audio/wav'></audio></td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>12</td>
      <td>common_voice_en_12.wav</td>
      <td>2020-10-02T07:07:34.726100</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_12.wav' type='audio/wav'></audio></td>
      <td>0.893219</td>
    </tr>
    <tr>
      <th>2</th>
      <td>32</td>
      <td>common_voice_en_32.wav</td>
      <td>2020-10-02T07:07:35.271638</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_32.wav' type='audio/wav'></audio></td>
      <td>0.891373</td>
    </tr>
    <tr>
      <th>3</th>
      <td>20</td>
      <td>common_voice_en_20.wav</td>
      <td>2020-10-02T07:07:35.046128</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_20.wav' type='audio/wav'></audio></td>
      <td>0.882336</td>
    </tr>
    <tr>
      <th>4</th>
      <td>15</td>
      <td>common_voice_en_15.wav</td>
      <td>2020-10-02T07:07:34.726251</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_15.wav' type='audio/wav'></audio></td>
      <td>0.877323</td>
    </tr>
  </tbody>
</table></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#5 recommendation by id</span>
<span class="n">search_by_id_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search_by_id</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;audio_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">vi_client</span><span class="o">.</span><span class="n">show_json</span><span class="p">(</span><span class="n">search_by_id_results</span><span class="p">,</span> <span class="n">audio_fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>name</th>
      <th>insert_date_</th>
      <th>audio</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>common_voice_en_2.wav</td>
      <td>2020-10-02T07:07:34.725536</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_2.wav' type='audio/wav'></audio></td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>40</td>
      <td>common_voice_en_40.wav</td>
      <td>2020-10-02T07:07:35.272603</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_40.wav' type='audio/wav'></audio></td>
      <td>0.884632</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>common_voice_en_3.wav</td>
      <td>2020-10-02T07:07:34.725629</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_3.wav' type='audio/wav'></audio></td>
      <td>0.879187</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14</td>
      <td>common_voice_en_14.wav</td>
      <td>2020-10-02T07:07:34.726200</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_14.wav' type='audio/wav'></audio></td>
      <td>0.874556</td>
    </tr>
    <tr>
      <th>4</th>
      <td>21</td>
      <td>common_voice_en_21.wav</td>
      <td>2020-10-02T07:07:35.046224</td>
      <td><audio controls><source src='https://vecsearch-bucket.s3.us-east-2.amazonaws.com/voices/common_voice_en_21.wav' type='audio/wav'></audio></td>
      <td>0.865409</td>
    </tr>
  </tbody>
</table></div>
</div>
</div>
<div class="section" id="Build-Text-QA-Search-in-5-minutes">
<h2>Build Text QA Search in 5 minutes<a class="headerlink" href="#Build-Text-QA-Search-in-5-minutes" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">pip</span> install datasets
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Requirement already satisfied: datasets in c:\users\jacky\anaconda3\lib\site-packages (1.0.1)
Requirement already satisfied: filelock in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (3.0.12)
Requirement already satisfied: dill in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (0.3.1.1)
Requirement already satisfied: pyarrow&gt;=0.17.1 in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (1.0.0)
Requirement already satisfied: requests&gt;=2.19.0 in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (2.22.0)
Requirement already satisfied: numpy&gt;=1.17 in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (1.19.1)
Requirement already satisfied: pandas in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (0.25.2)
Requirement already satisfied: tqdm&gt;=4.27 in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (4.36.1)
Requirement already satisfied: xxhash in c:\users\jacky\anaconda3\lib\site-packages (from datasets) (2.0.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\jacky\anaconda3\lib\site-packages (from requests&gt;=2.19.0-&gt;datasets) (2020.6.20)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in c:\users\jacky\anaconda3\lib\site-packages (from requests&gt;=2.19.0-&gt;datasets) (1.24.2)
Requirement already satisfied: idna&lt;2.9,&gt;=2.5 in c:\users\jacky\anaconda3\lib\site-packages (from requests&gt;=2.19.0-&gt;datasets) (2.8)
Requirement already satisfied: chardet&lt;3.1.0,&gt;=3.0.2 in c:\users\jacky\anaconda3\lib\site-packages (from requests&gt;=2.19.0-&gt;datasets) (3.0.4)
Requirement already satisfied: pytz&gt;=2017.2 in c:\users\jacky\anaconda3\lib\site-packages (from pandas-&gt;datasets) (2019.3)
Requirement already satisfied: python-dateutil&gt;=2.6.1 in c:\users\jacky\anaconda3\lib\site-packages (from pandas-&gt;datasets) (2.8.0)
Requirement already satisfied: six&gt;=1.5 in c:\users\jacky\anaconda3\lib\site-packages (from python-dateutil&gt;=2.6.1-&gt;pandas-&gt;datasets) (1.12.0)
Note: you may need to restart the kernel to use updated packages.
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">collection_name</span> <span class="o">=</span> <span class="s1">&#39;squad&#39;</span>

<span class="c1">#use huggingface&#39;s datasets library to download squad</span>
<span class="kn">import</span> <span class="nn">datasets</span>
<span class="n">squad_dataset</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;squad&#39;</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;_id&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="o">**</span><span class="n">d</span><span class="p">}</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">squad_dataset</span><span class="p">[</span><span class="s1">&#39;validation&#39;</span><span class="p">])]</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">delete_collection</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#1. specify the vdb client</span>
<span class="kn">from</span> <span class="nn">vectorai.client</span> <span class="kn">import</span> <span class="n">ViClient</span>
<span class="n">vi_client</span> <span class="o">=</span> <span class="n">ViClient</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">delete_collection</span><span class="p">(</span><span class="n">collection_name</span><span class="p">)</span>

<span class="c1">#2. specify a text encoder</span>
<span class="kn">from</span> <span class="nn">vectorai.models.deployed</span> <span class="kn">import</span> <span class="n">ViText2Vec</span>
<span class="n">text_encoder</span> <span class="o">=</span> <span class="n">ViText2Vec</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="s1">&#39;https://api.vctr.ai&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Logged in. Welcome public-demo. To view list of available collections, call list_collections() method.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;error&#39;, &#39;message&#39;: &#39;squad does not exist&#39;}
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#3. insert the documents and encode text simultaneously</span>
<span class="n">use_jobs</span> <span class="o">=</span> <span class="kc">True</span>

<span class="k">if</span> <span class="n">use_jobs</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">)</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">encode_text_job</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">)</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">wait_till_jobs_complete</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_id&#39;</span><span class="p">],</span> <span class="n">job</span><span class="p">[</span><span class="s1">&#39;job_name&#39;</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">vi_client</span><span class="o">.</span><span class="n">insert_documents</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">,</span> <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;question&#39;</span><span class="p">:</span><span class="n">text_encoder</span><span class="p">},</span> <span class="n">use_bulk_encode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
d:\kda\vectorai\vectorai\read.py:351: UserWarning: Potential issue. Cannot find a vector field. Check that the vector field is _vector_.
  &#34;Potential issue. Cannot find a vector field. Check that the vector field is _vector_.&#34;
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "cbe3f07f6cdb4be78030b4b89440a277", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;inserted_successfully&#39;: 10570, &#39;failed&#39;: 0, &#39;failed_document_ids&#39;: []}
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;status&#39;: &#39;Finished&#39;}
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Done&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#4. search</span>
<span class="n">search_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span>
                                   <span class="n">text_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;who was the winner for nfl fifty&#39;</span><span class="p">),</span>
                                   <span class="s1">&#39;question_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">#4.2 first result is the query text itself</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">results_to_df</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>question</th>
      <th>answers</th>
      <th>context</th>
      <th>insert_date_</th>
      <th>id</th>
      <th>title</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>11</td>
      <td>Who won Super Bowl 50?</td>
      <td>{'answer_start': [177, 177, 177], 'text': ['De...</td>
      <td>Super Bowl 50 was an American football game to...</td>
      <td>2020-10-02T07:47:06.947313</td>
      <td>56beace93aeaaa14008c91df</td>
      <td>Super_Bowl_50</td>
      <td>0.798744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>24</td>
      <td>Who won Super Bowl 50?</td>
      <td>{'answer_start': [177, 177, 177], 'text': ['De...</td>
      <td>Super Bowl 50 was an American football game to...</td>
      <td>2020-10-02T07:47:07.285182</td>
      <td>56d20362e7d4791d009025eb</td>
      <td>Super_Bowl_50</td>
      <td>0.798744</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Which NFL team won Super Bowl 50?</td>
      <td>{'answer_start': [177, 177, 177], 'text': ['De...</td>
      <td>Super Bowl 50 was an American football game to...</td>
      <td>2020-10-02T07:47:06.946694</td>
      <td>56be4db0acb8001400a502ef</td>
      <td>Super_Bowl_50</td>
      <td>0.763209</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55</td>
      <td>Who was the Super Bowl 50 MVP?</td>
      <td>{'answer_start': [248, 248, 252], 'text': ['Vo...</td>
      <td>The Broncos took an early lead in Super Bowl 5...</td>
      <td>2020-10-02T07:47:07.759154</td>
      <td>56be4eafacb8001400a50302</td>
      <td>Super_Bowl_50</td>
      <td>0.754090</td>
    </tr>
    <tr>
      <th>4</th>
      <td>26</td>
      <td>Which team won Super Bowl 50.</td>
      <td>{'answer_start': [177, 177, 177], 'text': ['De...</td>
      <td>Super Bowl 50 was an American football game to...</td>
      <td>2020-10-02T07:47:07.285403</td>
      <td>56d600e31c85041400946eb0</td>
      <td>Super_Bowl_50</td>
      <td>0.742759</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#5 recommendation by id</span>
<span class="n">search_by_id_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">search_by_id</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="n">documents</span><span class="p">[</span><span class="mi">50</span><span class="p">][</span><span class="s1">&#39;_id&#39;</span><span class="p">],</span> <span class="s1">&#39;question_vector_&#39;</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">#5.2 first result is the id&#39;s text itself</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">results_to_df</span><span class="p">(</span><span class="n">search_by_id_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>question</th>
      <th>answers</th>
      <th>context</th>
      <th>insert_date_</th>
      <th>id</th>
      <th>title</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>50</td>
      <td>Who did Denver beat in the 2015 AFC Championsh...</td>
      <td>{'answer_start': [372, 368, 372], 'text': ['Ne...</td>
      <td>The Panthers finished the regular season with ...</td>
      <td>2020-10-02T07:47:07.758767</td>
      <td>56d6017d1c85041400946ec1</td>
      <td>Super_Bowl_50</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>48</td>
      <td>Who did Denver beat in the AFC championship?</td>
      <td>{'answer_start': [372, 368, 372], 'text': ['Ne...</td>
      <td>The Panthers finished the regular season with ...</td>
      <td>2020-10-02T07:47:07.758541</td>
      <td>56d2045de7d4791d009025f6</td>
      <td>Super_Bowl_50</td>
      <td>0.960072</td>
    </tr>
    <tr>
      <th>2</th>
      <td>331</td>
      <td>Who did the Broncos beat to win their division...</td>
      <td>{'answer_start': [25, 25, 36], 'text': ['Pitts...</td>
      <td>The Broncos defeated the Pittsburgh Steelers i...</td>
      <td>2020-10-02T07:47:12.209038</td>
      <td>56d99f99dc89441400fdb628</td>
      <td>Super_Bowl_50</td>
      <td>0.923735</td>
    </tr>
    <tr>
      <th>3</th>
      <td>330</td>
      <td>Who did the Broncos defeat in the AFC Champion...</td>
      <td>{'answer_start': [192, 192, 204], 'text': ['Ne...</td>
      <td>The Broncos defeated the Pittsburgh Steelers i...</td>
      <td>2020-10-02T07:47:12.208876</td>
      <td>56d7018a0d65d214001982c5</td>
      <td>Super_Bowl_50</td>
      <td>0.915792</td>
    </tr>
    <tr>
      <th>4</th>
      <td>328</td>
      <td>Who did the Broncos beat in the divisional game?</td>
      <td>{'answer_start': [25, 21, 36], 'text': ['Pitts...</td>
      <td>The Broncos defeated the Pittsburgh Steelers i...</td>
      <td>2020-10-02T07:47:11.956089</td>
      <td>56d7018a0d65d214001982c2</td>
      <td>Super_Bowl_50</td>
      <td>0.906187</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#6 hybrid search combining traditional and nlp vector search</span>
<span class="n">search_results</span> <span class="o">=</span> <span class="n">vi_client</span><span class="o">.</span><span class="n">hybrid_search</span><span class="p">(</span><span class="n">collection_name</span><span class="p">,</span> <span class="s1">&#39;Peyton Men&#39;</span><span class="p">,</span>
                                          <span class="n">text_encoder</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;Peyton Men&#39;</span><span class="p">),</span>
                                          <span class="p">[</span><span class="s1">&#39;question_vector_&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">],</span>
                                          <span class="n">traditional_weight</span><span class="o">=</span><span class="mf">0.015</span><span class="p">,</span>
                                          <span class="n">page_size</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">vi_client</span><span class="o">.</span><span class="n">results_to_df</span><span class="p">(</span><span class="n">search_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>question</th>
      <th>answers</th>
      <th>context</th>
      <th>insert_date_</th>
      <th>id</th>
      <th>title</th>
      <th>_search_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>258</td>
      <td>How old was Peyton Manning in 2015?</td>
      <td>{'answer_start': [817, 817, 817], 'text': ['39...</td>
      <td>Following their loss in the divisional round o...</td>
      <td>2020-10-02T07:47:11.000830</td>
      <td>56bf301c3aeaaa14008c9550</td>
      <td>Super_Bowl_50</td>
      <td>0.641220</td>
    </tr>
    <tr>
      <th>1</th>
      <td>276</td>
      <td>How may yards did Peyton Manning throw?</td>
      <td>{'answer_start': [77, 77, 77], 'text': ['2,249...</td>
      <td>Manning finished the year with a career-low 67...</td>
      <td>2020-10-02T07:47:11.239195</td>
      <td>56bf38383aeaaa14008c956c</td>
      <td>Super_Bowl_50</td>
      <td>0.634783</td>
    </tr>
    <tr>
      <th>2</th>
      <td>270</td>
      <td>What was Peyton Manning's passer rating for th...</td>
      <td>{'answer_start': [44, 44, 44], 'text': ['67.9'...</td>
      <td>Manning finished the year with a career-low 67...</td>
      <td>2020-10-02T07:47:11.238646</td>
      <td>56beb57b3aeaaa14008c9279</td>
      <td>Super_Bowl_50</td>
      <td>0.617874</td>
    </tr>
    <tr>
      <th>3</th>
      <td>252</td>
      <td>Who did Peyton Manning play for as a rookie?</td>
      <td>{'answer_start': [641, 637, 654], 'text': ['In...</td>
      <td>Following their loss in the divisional round o...</td>
      <td>2020-10-02T07:47:10.760423</td>
      <td>56beb4e43aeaaa14008c9267</td>
      <td>Super_Bowl_50</td>
      <td>0.612926</td>
    </tr>
    <tr>
      <th>4</th>
      <td>356</td>
      <td>Peyton Manning took how many different teams t...</td>
      <td>{'answer_start': [57, 57, 57, 57], 'text': ['t...</td>
      <td>Peyton Manning became the first quarterback ev...</td>
      <td>2020-10-02T07:47:12.428915</td>
      <td>56d704430d65d214001982de</td>
      <td>Super_Bowl_50</td>
      <td>0.611716</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="industry_ecommerce.html" class="btn btn-neutral float-right" title="Vector Search / Nearest Neighbors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral float-left" title="Vector AI - Essentials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, OnSearch Pty Ltd

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>